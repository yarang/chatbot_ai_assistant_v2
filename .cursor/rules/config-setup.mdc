---
description: 설정 파일 및 실행 환경 가이드
---

# ⚙️ 설정 파일 및 실행 환경 가이드

## config.json 구조

```json
{
  "telegram": {
    "bot_token": "YOUR_TELEGRAM_BOT_TOKEN",
    "api_id": "YOUR_API_ID",
    "api_hash": "YOUR_API_HASH"
  },
  "gemini": {
    "api_key": "YOUR_GEMINI_API_KEY",
    "model": "google-gemini-2.5-flash"
  },
  "database": {
    "url": "postgresql+asyncpg://user:password@localhost:5432/telegram_ai"
  }
}
```

## 실행 방법

```bash
# 의존성 설치
pip install fastapi uvicorn sqlalchemy[asyncio] asyncpg google-genai

# 개발 서버 실행
uvicorn main:app --reload

# 프로덕션 서버 실행
uvicorn main:app --host 0.0.0.0 --port 8000
```

## 환경 설정 원칙

### 설정 파일 관리

- **config.json**: 모든 설정을 JSON 파일로 중앙 관리
- **환경별 분리**: 개발/스테이징/프로덕션 환경별 설정 분리
- **보안**: 민감한 정보는 환경변수 사용 고려

### 데이터베이스 설정

- **AsyncPG**: PostgreSQL 비동기 드라이버 사용
- **Connection Pool**: SQLAlchemy 자동 연결 풀 관리
- **트랜잭션**: AsyncSession을 통한 트랜잭션 관리

### 외부 API 설정

- **Telegram**: Bot Token, API ID/Hash 설정
- **Gemini**: API Key, 모델명 설정
- **에러 처리**: API 호출 실패 시 적절한 예외 처리

### 로깅 설정

- **로그 디렉토리**: `logs/` 디렉토리 자동 생성
- **파일 크기**: 2MB 단위로 로그 파일 회전
- **백업**: 최대 3개 백업 파일 유지